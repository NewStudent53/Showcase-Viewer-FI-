<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>glTF3d Viewer</title>
  <link rel="stylesheet" href="style.css"> 
  <script src="src/app.js"></script>
</head>
<body>
  <main class="wrap">
    <div class="dropzone">
        <p>Select the GLTF. file</p>
      <div class="upload-btn">
        <input type="file" name="file-input[]" id="file-input" multiple=""> 
        <label for="file-input">
          <span>Upload file</span>
        </label>
      </div>
    </div>
    <div class="spinner"></div>
  </main>
  <script src="https://cdn.jsdelivr.net/npm/three@0.125.2/build/three.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.125.2/examples/js/loaders/OBJLoader.js"></script>


  <script type="text/x-handlebars-template" id="report-toggle-template">
    <div class="report-toggle level-{{issues.maxSeverity}}">
      <div class="report-toggle-text">
        {{#if issues}}
          {{#if issues.numErrors }}
            {{issues.numErrors}} errors.
          {{else if issues.numWarnings}}
            {{issues.numWarnings}} warnings.
          {{else if issues.numHints}}
            {{issues.numHints}} hints.
          {{else if issues.numInfos}}
            {{issues.numInfos}} reports.
          {{else}}
            Model details
          {{/if}}
        {{else if reportError}}
          Validation could not run: {{reportError}}.
        {{else}}
          Validation could not run.
        {{/if}}
      </div>
      <div class="report-toggle-close" aria-label="Hide">&times;</div>
    </div>
  </script>


  <script type="text/x-handlebars-template" id="report-template">
    <!DOCTYPE html>
    <title>Report test</title>
    <style>
      body { overflow-y: auto; }
    </style>
    <div class="report">
      <h1>Model Chek-in</h1>
      
      <ul>
        <li><b>Format:</b> glTF {{info.version}}</li>
        {{#if generator}}
          <li>
            <b>Generator:</b> {{generator.name}}
            {{#if generator.docsURL}}(<a href="{{generator.docsURL}}" target="_blank">docs</a>){{/if}}
            {{#if generator.bugsURL}}(<a href="{{generator.bugsURL}}" target="_blank">bugs</a>){{/if}}
          </li>
        {{else}}
          <li><b>Generator:</b> {{info.generator}}</li>
        {{/if}}
        {{#if info.extras}}
          {{#if info.extras.title}}<li><b>Title:</b> {{info.extras.title}}</li>{{/if}}
          {{#if info.extras.author}}<li><b>Author:</b> {{{info.extras.author}}}</li>{{/if}}
          {{#if info.extras.license}}<li><b>License:</b> {{{info.extras.license}}}</li>{{/if}}
          {{#if info.extras.source}}<li><b>Source:</b> {{{info.extras.source}}}</li>{{/if}}
        {{/if}}
        <li>
          <b>Stats:</b>
          <ul>
            <li>{{info.drawCallCount}} draw calls</li>
            <li>{{info.animationCount}} animations</li>
            <li>{{info.materialCount}} materials</li>
            <li>{{info.totalVertexCount}} vertices</li>
            <li>{{info.totalTriangleCount}} triangles</li>
          </ul>
        </li>
      </ul>
      <hr/>
      <p>
        This report was generated by
        <a href="https://github.com/KhronosGroup/glTF-Validator/">KhronosGroup/glTF-Validator</a>
        {{validatorVersion}}.
      </p>
      {{#if issues.numErrors}}
        {{> issuesTable messages=errors color="#f44336" title="Error"}}
      {{/if}}
      {{#if issues.numWarnings}}
        {{> issuesTable messages=warnings color="#f9a825" title="Warning"}}
      {{/if}}
      {{#if issues.numHints}}
        {{> issuesTable messages=hints color="#8bc34a" title="Hint"}}
      {{/if}}
      {{#if issues.numInfos}}
        {{> issuesTable messages=infos color="#2196f3" title="Info"}}
      {{/if}}
    </div>
  </script>
  <script type="text/x-handlebars-template" id="report-table-partial">
    <table class="report-table">
      <thead>
        <tr style="background: {{color}};">
          <th>Information.</th>
          <th>Message.</th>
          <th>Pointer.</th>
      </thead>
      <tbody>
        {{#each messages}}
        <tr>
          <td><code>{{code}}</code></td>
          <td>{{message}}</td>
          <td><code>{{pointer}}</code></td>
        </tr>
        {{/each}}
        {{#unless issues.messages}}
        <tr><td colspan="3">No issues found.</td></tr>
        {{/unless}}
      </tbody>
    </table>
  </script>

</body>